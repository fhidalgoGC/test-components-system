"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const N=require("react/jsx-runtime"),c=require("react"),le={color:{fg:{light:"hsl(222.2, 84%, 4.9%)",dark:"hsl(210, 40%, 98%)"},bg:{light:"hsl(0, 0%, 100%)",dark:"hsl(222.2, 84%, 4.9%)"},primary:{light:"hsl(221.2, 83.2%, 53.3%)",dark:"hsl(217.2, 91.2%, 59.8%)"},secondary:{light:"hsl(210, 40%, 96%)",dark:"hsl(217.2, 32.6%, 17.5%)"},border:{light:"hsl(214.3, 31.8%, 91.4%)",dark:"hsl(217.2, 32.6%, 17.5%)"}},radius:{sm:"0.25rem",md:"0.5rem",lg:"0.75rem"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem"}},pe=c.createContext({theme:"light",tokens:le,toggleTheme:()=>{}}),Re=({children:e})=>{const[t,r]=c.useState("light");c.useEffect(()=>{const n=localStorage.getItem("theme");n?r(n):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&r("dark")},[]),c.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("theme",t)},[t]);const o=()=>{r(n=>n==="light"?"dark":"light")};return N.jsx(pe.Provider,{value:{theme:t,tokens:le,toggleTheme:o},children:e})},be=()=>c.useContext(pe);function ze(){return{theme:be()?.theme??"light"}}const Fe="Todos",Be="Seleccionar Todo",Ve="Limpiar Selección",je="No hay etiquetas disponibles",De="Seleccionado",Ue="Cargando...",$e={all:Fe,select_all:Be,clear_selection:Ve,no_tags:je,selected:De,loading:Ue},qe="All",We="Select All",Xe="Clear Selection",Ye="No tags available",He="Selected",Je="Loading...",Ke={all:qe,select_all:We,clear_selection:Xe,no_tags:Ye,selected:He,loading:Je},Ze={es:$e,en:Ke},Qe=e=>{const t=(e||"en").toLowerCase().startsWith("es")?"es":"en";return Ze[t]},oe=(e=1024)=>typeof window>"u"?e:window.innerWidth||e,he=()=>{if(typeof window>"u")return"landscape";const{innerWidth:e,innerHeight:t}=window;return t>=e?"portrait":"landscape"};function me(e,t){return t?e.replace(/\{(\w+)\}/g,(r,o)=>String(t[o]??`{${o}}`)):e}function ie(e,t,r="local-first"){return(o,n)=>{let s;return r==="global-first"?s=t?.[o]??e?.[o]:s=e?.[o]??t?.[o],me(s??o,n)}}const ve=e=>e<=640?"mobile":e<=1024?"tablet":"desktop",xe=(e,t,r,o)=>{if(!e)return!0;const{allowedDevices:n,allowedOrientations:s,breakpoints:l,defaultVisibility:i="visible"}=e;return n?.length&&!n.includes(r)||s?.length&&!s.includes(o)?!1:l?.length?(l.find(f=>t>=f.minWidth&&t<=f.maxWidth)?.visibility??i)!=="hidden":i!=="hidden"};function ye(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=ye(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function et(){for(var e,t,r=0,o="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=ye(e))&&(o&&(o+=" "),o+=t);return o}const ae="-",tt=e=>{const t=ot(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:l=>{const i=l.split(ae);return i[0]===""&&i.length!==1&&i.shift(),we(i,t)||rt(l)},getConflictingClassGroupIds:(l,i)=>{const u=r[l]||[];return i&&o[l]?[...u,...o[l]]:u}}},we=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),n=o?we(e.slice(1),o):void 0;if(n)return n;if(t.validators.length===0)return;const s=e.join(ae);return t.validators.find(({validator:l})=>l(s))?.classGroupId},fe=/^\[(.+)\]$/,rt=e=>{if(fe.test(e)){const t=fe.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ot=e=>{const{theme:t,prefix:r}=e,o={nextPart:new Map,validators:[]};return st(Object.entries(e.classGroups),r).forEach(([s,l])=>{ne(l,o,s,t)}),o},ne=(e,t,r,o)=>{e.forEach(n=>{if(typeof n=="string"){const s=n===""?t:ge(t,n);s.classGroupId=r;return}if(typeof n=="function"){if(nt(n)){ne(n(o),t,r,o);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([s,l])=>{ne(l,ge(t,s),r,o)})})},ge=(e,t)=>{let r=e;return t.split(ae).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},nt=e=>e.isThemeGetter,st=(e,t)=>t?e.map(([r,o])=>{const n=o.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,i])=>[t+l,i])):s);return[r,n]}):e,lt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const n=(s,l)=>{r.set(s,l),t++,t>e&&(t=0,o=r,r=new Map)};return{get(s){let l=r.get(s);if(l!==void 0)return l;if((l=o.get(s))!==void 0)return n(s,l),l},set(s,l){r.has(s)?r.set(s,l):n(s,l)}}},Ce="!",it=e=>{const{separator:t,experimentalParseClassName:r}=e,o=t.length===1,n=t[0],s=t.length,l=i=>{const u=[];let f=0,p=0,m;for(let x=0;x<i.length;x++){let S=i[x];if(f===0){if(S===n&&(o||i.slice(x,x+s)===t)){u.push(i.slice(p,x)),p=x+s;continue}if(S==="/"){m=x;continue}}S==="["?f++:S==="]"&&f--}const b=u.length===0?i:i.substring(p),_=b.startsWith(Ce),I=_?b.substring(1):b,A=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:I,maybePostfixModifierPosition:A}};return r?i=>r({className:i,parseClassName:l}):l},at=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(o=>{o[0]==="["?(t.push(...r.sort(),o),r=[]):r.push(o)}),t.push(...r.sort()),t},ct=e=>({cache:lt(e.cacheSize),parseClassName:it(e),...tt(e)}),dt=/\s+/,ut=(e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:n}=t,s=[],l=e.trim().split(dt);let i="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{modifiers:p,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:_}=r(f);let I=!!_,A=o(I?b.substring(0,_):b);if(!A){if(!I){i=f+(i.length>0?" "+i:i);continue}if(A=o(b),!A){i=f+(i.length>0?" "+i:i);continue}I=!1}const x=at(p).join(":"),S=m?x+Ce:x,C=S+A;if(s.includes(C))continue;s.push(C);const L=n(A,I);for(let T=0;T<L.length;++T){const O=L[T];s.push(S+O)}i=f+(i.length>0?" "+i:i)}return i};function ft(){let e=0,t,r,o="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_e(t))&&(o&&(o+=" "),o+=r);return o}const _e=e=>{if(typeof e=="string")return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=_e(e[o]))&&(r&&(r+=" "),r+=t);return r};function gt(e,...t){let r,o,n,s=l;function l(u){const f=t.reduce((p,m)=>m(p),e());return r=ct(f),o=r.cache.get,n=r.cache.set,s=i,i(u)}function i(u){const f=o(u);if(f)return f;const p=ut(u,r);return n(u,p),p}return function(){return s(ft.apply(null,arguments))}}const k=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Se=/^\[(?:([a-z-]+):)?(.+)\]$/i,pt=/^\d+\/\d+$/,bt=new Set(["px","full","screen"]),ht=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,V=e=>q(e)||bt.has(e)||pt.test(e),j=e=>W(e,"length",It),q=e=>!!e&&!Number.isNaN(Number(e)),re=e=>W(e,"number",q),H=e=>!!e&&Number.isInteger(Number(e)),wt=e=>e.endsWith("%")&&q(e.slice(0,-1)),g=e=>Se.test(e),D=e=>ht.test(e),Ct=new Set(["length","size","percentage"]),_t=e=>W(e,Ct,Ae),St=e=>W(e,"position",Ae),At=new Set(["image","url"]),kt=e=>W(e,At,Nt),Et=e=>W(e,"",Lt),J=()=>!0,W=(e,t,r)=>{const o=Se.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):r(o[2]):!1},It=e=>mt.test(e)&&!vt.test(e),Ae=()=>!1,Lt=e=>xt.test(e),Nt=e=>yt.test(e),Tt=()=>{const e=k("colors"),t=k("spacing"),r=k("blur"),o=k("brightness"),n=k("borderColor"),s=k("borderRadius"),l=k("borderSpacing"),i=k("borderWidth"),u=k("contrast"),f=k("grayscale"),p=k("hueRotate"),m=k("invert"),b=k("gap"),_=k("gradientColorStops"),I=k("gradientColorStopPositions"),A=k("inset"),x=k("margin"),S=k("opacity"),C=k("padding"),L=k("saturate"),T=k("scale"),O=k("sepia"),U=k("skew"),v=k("space"),h=k("translate"),y=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",g,t],w=()=>[g,t],$=()=>["",V,j],G=()=>["auto",q,g],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],d=()=>["solid","dashed","dotted","double","none"],a=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",g],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[q,g];return{cacheSize:500,separator:":",theme:{colors:[J],spacing:[V,j],blur:["none","",D,g],brightness:B(),borderColor:[e],borderRadius:["none","","full",D,g],borderSpacing:w(),borderWidth:$(),contrast:B(),grayscale:Y(),hueRotate:B(),invert:Y(),gap:w(),gradientColorStops:[e],gradientColorStopPositions:[wt,j],inset:M(),margin:M(),opacity:B(),padding:w(),saturate:B(),scale:B(),sepia:Y(),skew:B(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",g]}],container:["container"],columns:[{columns:[D]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),g]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:y()}],"overscroll-x":[{"overscroll-x":y()}],"overscroll-y":[{"overscroll-y":y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",H,g]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",g]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",H,g]}],"grid-cols":[{"grid-cols":[J]}],"col-start-end":[{col:["auto",{span:["full",H,g]},g]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[J]}],"row-start-end":[{row:["auto",{span:[H,g]},g]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",g]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",g]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",g,t]}],"min-w":[{"min-w":[g,t,"min","max","fit"]}],"max-w":[{"max-w":[g,t,"none","full","min","max","fit","prose",{screen:[D]},D]}],h:[{h:[g,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[g,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[g,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[g,t,"auto","min","max","fit"]}],"font-size":[{text:["base",D,j]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",re]}],"font-family":[{font:[J]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",g]}],"line-clamp":[{"line-clamp":["none",q,re]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",V,g]}],"list-image":[{"list-image":["none",g]}],"list-style-type":[{list:["none","disc","decimal",g]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...d(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",V,j]}],"underline-offset":[{"underline-offset":["auto",V,g]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",g]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",g]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),St]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_t]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...d(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:d()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...d()]}],"outline-offset":[{"outline-offset":[V,g]}],"outline-w":[{outline:[V,j]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[V,j]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",D,Et]}],"shadow-color":[{shadow:[J]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...a(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":a()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",D,g]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[L]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",g]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",g]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",g]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[H,g]}],"translate-x":[{"translate-x":[h]}],"translate-y":[{"translate-y":[h]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",g]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",g]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",g]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[V,j,re]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gt=gt(Tt);function Mt(...e){return Gt(et(e))}const Ot=["es","en"],Pt="en",Rt={es:{locale:"es",dateFormat:"dd/MM/yyyy",twoDigits:!0},en:{locale:"en",dateFormat:"MM/dd/yyyy",twoDigits:!0}},zt={NUMBER_FORMAT_PATTERN:"0,000.00",NUMBER_ROUND_MODE:"truncate",NUMBER_LOCATE:"en-US",NUMBER_MIN_DECIMALS:2,NUMBER_MAX_DECIMALS:4},Ft={SESSION_DURATION:8*(60*60*1e3),VALIDATION_INTERVAL:60*1e3},z={AVAILABLE_LANGUAGES:Ot,DEFAULT_LANGUAGE:Pt,LANGUAGE_CONFIG:Rt,NUMBER_FORMAT_CONFIG:zt,SESSION_CONFIG:Ft,IS_DEVELOPMENT:!1},Q=z;exports.APP_CONFIG=z;function ee(e,t={},r="auto"){switch(r){case"parent":const o={...e};return Object.keys(e).forEach(s=>{s in t&&t[s]!==void 0&&(o[s]=t[s])}),o;case"library":return e;case"auto":default:const n={...e};return Object.keys(e).forEach(s=>{if(s in t){const l=t[s];if(l!=null){if(typeof l=="string"&&l==="")return;n[s]=l}}}),n}}function Bt(){return{...exports.APP_CONFIG}}function Vt(e){return exports.APP_CONFIG[e]}function jt(e){const t={};Object.keys(exports.APP_CONFIG).forEach(r=>{r in e&&e[r]!==void 0&&(t[r]=e[r])}),exports.APP_CONFIG={...exports.APP_CONFIG,...t}}function Dt(){exports.APP_CONFIG=z}const Ut=exports.APP_CONFIG,X=c.createContext(void 0);function ke(){const e=c.useContext(X);if(!e)throw new Error("useConfig must be used within a ConfigProvider");return e}function $t(e,t){const{config:r}=ke();return r[e]??t??Q[e]}function qt(e,t,r){const[o,n]=c.useState(()=>ee(Q,e,t));return c.useEffect(()=>{r&&n(ee(Q,e,t))},[e,t,r]),{config:o,setConfig:n}}function Wt(e,t,r,o){const n=c.useCallback(l=>{o&&e(i=>ee(i,l,"parent"))},[o,e]),s=c.useCallback(()=>{e(ee(Q,t,r))},[t,r,e]);return{updateConfig:n,resetConfig:s}}function Xt(){return c.useContext(X)?.config||null}const Ee=c.createContext(void 0);function Ie(){return c.useContext(Ee)}function Yt(e){const t=e||z.DEFAULT_LANGUAGE,r=z.AVAILABLE_LANGUAGES.includes(t)?t:z.DEFAULT_LANGUAGE,[o,n]=c.useState(r),s=c.useCallback(l=>{z.AVAILABLE_LANGUAGES.includes(l)?n(l):console.warn(`Language "${l}" is not in AVAILABLE_LANGUAGES. Staying with "${o}".`)},[o]);return{lang:o,setValidatedLang:s}}function Ht(e){const t=Xt();return c.useMemo(()=>{const r=t?.LANGUAGE_CONFIG||z.LANGUAGE_CONFIG,o=t?.AVAILABLE_LANGUAGES||z.AVAILABLE_LANGUAGES,n=r[e]||r[z.DEFAULT_LANGUAGE];return{dateFormat:n.dateFormat,twoDigits:n.twoDigits,config:n,availableLanguages:o}},[e,t])}const Le=c.createContext(void 0);function te(){const e=c.useContext(Le);if(!e)throw new Error("useLibI18n must be used within LibI18nProvider");return e}function Jt(e){return e?{parentLanguageProvider:e}:{}}function Kt(){return c.useContext(X)?.config||null}function Zt(e,t){const o=Kt()?.DEFAULT_LANGUAGE,[n,s]=c.useState(e??o??"en"),l=t?.lang??e??n;return c.useEffect(()=>{!t&&e&&e!==n&&s(e)},[t,e,n]),c.useEffect(()=>{!t&&!e&&o&&o!==n&&s(o)},[t,e,o,n]),{effectiveLang:l,internal:n,setInternal:s}}const Ne=(e,t="")=>{const r={};for(const[o,n]of Object.entries(e)){const s=t?`${t}.${o}`:o;typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(r,Ne(n,s)):typeof n=="string"&&(r[s]=n)}return r};function Qt(e){const[t,r]=c.useState({});return c.useEffect(()=>{const o=async()=>{const n={};for(const s of e)try{const l=await import(s.path);n[s.lang]=l.default||l}catch(l){console.warn(`Failed to load translation file for ${s.lang} from ${s.path}:`,l),n[s.lang]={}}r(n)};e.length>0&&o()},[e]),t}function er(e,t,r){const o=c.useMemo(()=>{const l=e[t];return l?Ne(l):{}},[e,t]),n=c.useMemo(()=>ie({},o,r==="component-first"?"local-first":"global-first"),[o,r]),s=c.useCallback(()=>o,[o]);return{t:n,getExternalTranslations:s,processedGlobalTranslations:o}}function tr(e,t,r,o){const n=c.useCallback(l=>{if(r?.setLang){r.setLang(l);return}if(o){o(l);return}t(l)},[r,o,t]),s=c.useCallback(l=>l[e]??l.default,[e]);return{setLanguage:n,resolveLabel:s}}function rr(){const t=c.useContext(X)?.config;let r;try{r=te()}catch{r=null}const o=Ie();if(r){const l=r.lang,i=t?.LANGUAGE_CONFIG?.[l];if(i)return{lang:l,config:i}}if(o){const l=o.lang,i=t?.LANGUAGE_CONFIG?.[l];if(i)return{lang:l,config:i}}const n=t?.DEFAULT_LANGUAGE||"en",s=t?.LANGUAGE_CONFIG?.[n];return s?{lang:n,config:s}:{lang:"en",config:{}}}function ce(e){if(!e&&e!==0)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=new Date(e);return isNaN(t.getTime())?null:t}function Te(e,t,r){const o=e.getDate(),n=e.getMonth()+1,s=e.getFullYear(),l=r?String(o).padStart(2,"0"):String(o),i=r?String(n).padStart(2,"0"):String(n),u=String(s);return t.replace("dd",l).replace("MM",i).replace("yyyy",u)}function or(){const{lang:e,config:t}=rr();return c.useMemo(()=>{const r=t?.dateFormat||"MM/dd/yyyy",o=t?.twoDigits??!0;return{dateFormat:r,twoDigits:o,lang:e}},[t,e])}function Ge(){const{dateFormat:e,twoDigits:t}=or();return c.useMemo(()=>r=>{const o=ce(r);return o?Te(o,e,t):""},[e,t])}function nr(e){const t=Ge(),r=c.useMemo(()=>ce(e),[e]);return c.useMemo(()=>r?t(r):"",[r,t])}function sr(e,t,r=!0){const o=ce(e);return o?Te(o,t,r):""}function lr(e,t){const r=te(),o=e??r.lang,n=Qe(o),s=r.getExternalTranslations(),l=t?.order??(r.translationPriority==="component-first"?"local-first":"global-first"),i=ie(n,s,l);return{lang:o,t:i}}function ir(e){const[t,r]=c.useState(oe()),[o,n]=c.useState(e);c.useEffect(()=>{if(e){n(e);return}n(void 0)},[e]),c.useEffect(()=>{const u=()=>r(oe());if(typeof window<"u")return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const s=ve(t),l=he(),i=c.useMemo(()=>xe(o,t,s,l),[o,t,s,l]);return{cfg:o,width:t,device:s,orientation:l,isVisible:i}}const Me=c.createContext(null);function ar(){const e=c.useContext(Me);if(!e)throw new Error("TagSelectorProvider not mounted");return e}const cr=({children:e,config:t,langOverride:r,i18nOrder:o="local-first"})=>{const{theme:n}=ze(),{t:s}=lr(r,{order:o}),{cfg:l,width:i,device:u,orientation:f,isVisible:p}=ir(t),m=c.useMemo(()=>({theme:n,t:s,visibilityConfig:l,isVisible:p,device:u,orientation:f,width:i}),[n,s,l,p,u,f,i]);return N.jsx(Me.Provider,{value:m,children:e})},dr="_container_1gqps_1",ur="_chip_1gqps_7",fr="_light_1gqps_31",gr="_dark_1gqps_32",pr="_sm_1gqps_35",br="_md_1gqps_40",hr="_lg_1gqps_45",mr="_selected_1gqps_124",vr="_unselected_1gqps_136",xr="_all_1gqps_174",yr="_hidden_1gqps_196",R={container:dr,chip:ur,light:fr,dark:gr,sm:pr,md:br,lg:hr,"tam-1":"_tam-1_1gqps_51","tam-2":"_tam-2_1gqps_57","tam-3":"_tam-3_1gqps_63","tam-4":"_tam-4_1gqps_69","tam-5":"_tam-5_1gqps_75","tam-6":"_tam-6_1gqps_81","tam-7":"_tam-7_1gqps_87","tam-8":"_tam-8_1gqps_93","tam-9":"_tam-9_1gqps_99","tam-10":"_tam-10_1gqps_105","tam-11":"_tam-11_1gqps_111","tam-12":"_tam-12_1gqps_117",selected:mr,unselected:vr,all:xr,hidden:yr,"chip-layout-only":"_chip-layout-only_1gqps_203"};function wr(e,t,r){const o=[R.container,R[e]];return t||o.push(R.hidden),r&&o.push(r),o.join(" ")}function Cr(e,t){return t?`${e} ${t}`:e}function Z(e,t,r,o,n,s,l){const i=[R.chip,R[e]];R[o]?i.push(R[o]):i.push(R.md),n?i.push(R.all):i.push(r?R.selected:R.unselected),t||i.push(R.hidden),s&&i.push(s);const u=i.join(" ");return Cr(u,l)}const _r=({className:e,chipClassName:t,tags:r,selectedTags:o,onSelectionChange:n,allowMultiple:s=!0,allowAll:l=!0,requireSelection:i=!1,size:u="md",disabled:f=!1,isLoading:p=!1,allLabel:m})=>{const{theme:b,t:_,isVisible:I}=ar(),{resolveLabel:A}=te(),x=v=>r.find(h=>h.id===v)||null,S=v=>v.map(h=>x(h)).filter(h=>h!==null),C=()=>{if(f)return;if(r.length>0&&r.every(h=>o.includes(h.id)))n([]);else{const h={id:"__all__",label:m||{en:"All",es:"Todos",default:"All"}};n([...r,h])}},L=v=>{if(!f)if(s)if(o.includes(v))if(i){if(o.length>1){const y=o.filter(E=>E!==v);n(S(y))}}else if(l){const y=o.filter(E=>E!==v);n(S(y))}else{const y=o.filter(E=>E!==v);n(S(y))}else{const y=[...o,v],E=S(y);if(r.length>0&&r.every(w=>y.includes(w.id))&&l){const w={id:"__all__",label:m||{en:"All",es:"Todos",default:"All"}};n([...E,w])}else n(E)}else{const h=x(v);n(h?[h]:[])}},T=r.length>0&&r.every(v=>o.includes(v.id));o.length;const O=(v,h)=>{if(!v.metadata?.colors)return{};const y=v.metadata.colors[b];if(!y)return{};const E=h?y.selected:y.unselected;if(!E)return{};const M={};return E.background&&(M.backgroundColor=E.background),E.text&&(M.color=E.text),E.border&&(M.borderColor=E.border),M},U=v=>{if(!v.metadata?.sizing)return{};const h=v.metadata.sizing,y={};return h.paddingX&&(y.paddingLeft=h.paddingX,y.paddingRight=h.paddingX),h.paddingY&&(y.paddingTop=h.paddingY,y.paddingBottom=h.paddingY),h.fontSize&&(y.fontSize=h.fontSize),h.minWidth&&(y.minWidth=h.minWidth),h.height&&(y.height=h.height),y};return N.jsxs("div",{className:wr(b,I,e),"data-testid":"tag-selector-container",children:[l&&!i&&r.length>0&&N.jsx("button",{className:Z(b,I,T,u,!0,void 0,t),onClick:C,disabled:f,"data-testid":"tag-all",children:m?A(m):_("all")}),r.map(v=>{const h=o.includes(v.id),y=v.metadata?.colors,E=y?O(v,h):{},M=U(v),w=G=>{if(f||!y)return;const F=v.metadata?.colors?.[b],d=h?F?.selected:F?.unselected;d?.hoverBackground&&(G.currentTarget.style.backgroundColor=d.hoverBackground),d?.hoverBorder&&(G.currentTarget.style.borderColor=d.hoverBorder),d?.hoverText&&(G.currentTarget.style.color=d.hoverText)},$=G=>{if(f||!y)return;const F=v.metadata?.colors?.[b],d=h?F?.selected:F?.unselected;d?.background&&(G.currentTarget.style.backgroundColor=d.background),d?.border&&(G.currentTarget.style.borderColor=d.border),d?.text&&(G.currentTarget.style.color=d.text)};return N.jsx("button",{className:Z(b,I,h,u,!1,void 0,t),style:{...E,...M},onClick:()=>L(v.id),onMouseEnter:w,onMouseLeave:$,disabled:f,"data-testid":`tag-${v.id}`,children:A(v.label)},v.id)}),p&&N.jsx("span",{className:Z(b,I,!1,u,!1,"opacity-50"),"data-testid":"tag-loading",children:_("loading")}),!p&&r.length===0&&N.jsx("span",{className:Z(b,I,!1,u,!1,"opacity-50"),"data-testid":"tag-no-tags",children:_("no_tags")})]})},Sr=({id:e,className:t,chipClassName:r,style:o,getTagsFunction:n,selectedTags:s,onSelectionChange:l,allowMultiple:i,allowAll:u,requireSelection:f,config:p,size:m,disabled:b,langOverride:_,i18nOrder:I,allLabel:A,defaultSelectedTags:x,theme:S,customColors:C})=>{const[L,T]=c.useState([]),[O,U]=c.useState(!1),[v,h]=c.useState(null),[y,E]=c.useState(!1),M=d=>{l(d)};c.useEffect(()=>{let d=!1;return(async()=>{U(!0),h(null);try{const P=await n();d||T(P)}catch(P){d||(h(P instanceof Error?P.message:"Failed to load tags"),T([]))}finally{d||U(!1)}})(),()=>{d=!0}},[n]),c.useEffect(()=>{if(!y&&L.length>0&&x&&x.length>0){const d=x.filter(a=>L.some(P=>P.id===a));if(d.length>0){const a=L.filter(P=>d.includes(P.id));l(a)}E(!0)}},[L,x,y,l]);const $=(()=>{if(!C)return;const d={};if(C.light){const a=C.light;a.selected&&(a.selected.background&&(d["--tag-light-selected-bg"]=a.selected.background),a.selected.text&&(d["--tag-light-selected-text"]=a.selected.text),a.selected.border&&(d["--tag-light-selected-border"]=a.selected.border),a.selected.hoverBackground&&(d["--tag-light-selected-hover-bg"]=a.selected.hoverBackground),a.selected.hoverBorder&&(d["--tag-light-selected-hover-border"]=a.selected.hoverBorder)),a.unselected&&(a.unselected.background&&(d["--tag-light-unselected-bg"]=a.unselected.background),a.unselected.text&&(d["--tag-light-unselected-text"]=a.unselected.text),a.unselected.border&&(d["--tag-light-unselected-border"]=a.unselected.border),a.unselected.hoverBackground&&(d["--tag-light-unselected-hover-bg"]=a.unselected.hoverBackground),a.unselected.hoverBorder&&(d["--tag-light-unselected-hover-border"]=a.unselected.hoverBorder)),a.all&&(a.all.background&&(d["--tag-light-all-bg"]=a.all.background),a.all.text&&(d["--tag-light-all-text"]=a.all.text),a.all.border&&(d["--tag-light-all-border"]=a.all.border),a.all.hoverBackground&&(d["--tag-light-all-hover-bg"]=a.all.hoverBackground),a.all.hoverBorder&&(d["--tag-light-all-hover-border"]=a.all.hoverBorder))}if(C.dark){const a=C.dark;a.selected&&(a.selected.background&&(d["--tag-dark-selected-bg"]=a.selected.background),a.selected.text&&(d["--tag-dark-selected-text"]=a.selected.text),a.selected.border&&(d["--tag-dark-selected-border"]=a.selected.border),a.selected.hoverBackground&&(d["--tag-dark-selected-hover-bg"]=a.selected.hoverBackground),a.selected.hoverBorder&&(d["--tag-dark-selected-hover-border"]=a.selected.hoverBorder)),a.unselected&&(a.unselected.background&&(d["--tag-dark-unselected-bg"]=a.unselected.background),a.unselected.text&&(d["--tag-dark-unselected-text"]=a.unselected.text),a.unselected.border&&(d["--tag-dark-unselected-border"]=a.unselected.border),a.unselected.hoverBackground&&(d["--tag-dark-unselected-hover-bg"]=a.unselected.hoverBackground),a.unselected.hoverBorder&&(d["--tag-dark-unselected-hover-border"]=a.unselected.hoverBorder)),a.all&&(a.all.background&&(d["--tag-dark-all-bg"]=a.all.background),a.all.text&&(d["--tag-dark-all-text"]=a.all.text),a.all.border&&(d["--tag-dark-all-border"]=a.all.border),a.all.hoverBackground&&(d["--tag-dark-all-hover-bg"]=a.all.hoverBackground),a.all.hoverBorder&&(d["--tag-dark-all-hover-border"]=a.all.hoverBorder))}return d})(),G={...o,...$},F=S?t?`${t} ${S}`:S:t;return N.jsx(cr,{config:p,langOverride:_,i18nOrder:I,children:N.jsx("div",{id:e,className:F,style:G,children:v?N.jsxs("div",{className:"text-red-500 text-sm p-2","data-testid":"tag-selector-error",children:["Error: ",v]}):N.jsx(_r,{className:t,chipClassName:r,tags:L,selectedTags:s,onSelectionChange:M,allLabel:A,allowMultiple:i,allowAll:u,requireSelection:f,size:m,disabled:b||O,isLoading:O})})})};function Oe({language:e,onLanguageChange:t,parentLanguageProvider:r,globalTranslationPaths:o=[],translationPriority:n="component-first",children:s}){const{effectiveLang:l,setInternal:i}=Zt(e,r),u=Qt(o),{t:f,getExternalTranslations:p}=er(u,l,n),{setLanguage:m,resolveLabel:b}=tr(l,i,r,t),_=c.useMemo(()=>({lang:l,t:f,setLanguage:m,resolveLabel:b,getExternalTranslations:p,translationPriority:n}),[l,f,m,b,p,n]);return N.jsx(Le.Provider,{value:_,children:s})}function Ar({initial:e,children:t}){const{lang:r,setValidatedLang:o}=Yt(e),n=Ht(r),s=c.useMemo(()=>({lang:r,setLang:o,...n}),[r,o,n]);return N.jsx(Ee.Provider,{value:s,children:t})}function kr({children:e,parentConfig:t={},priority:r="auto",enableOverrides:o=!0}){const{config:n,setConfig:s}=qt(t,r,o),{updateConfig:l,resetConfig:i}=Wt(s,t,r,o),u=c.useMemo(()=>({config:n,updateConfig:l,resetConfig:i,priority:r}),[n,l,i,r]);return N.jsx(X.Provider,{value:u,children:e})}const de="app_session_data";function Er(e){try{localStorage.setItem(de,JSON.stringify(e))}catch(t){console.error("Failed to save session to storage:",t)}}function K(){try{const e=localStorage.getItem(de);if(!e)return null;const t=JSON.parse(e);return!t.sessionId||!t.sessionStartTime||!t.lastActivityTime?null:t}catch(e){return console.error("Failed to get session from storage:",e),null}}function Ir(){try{localStorage.removeItem(de)}catch(e){console.error("Failed to clear session from storage:",e)}}function se(e,t){return Date.now()-e.sessionStartTime>t}function Lr(){const e=K();return e!==null&&!!e.sessionId}function Nr({enabled:e=!1,sessionDuration:t,checkInterval:r,autoActivateIfSession:o=!0,onSessionInvalid:n}){if(!t)throw new Error("SessionValidator: sessionDuration is required");if(!r)throw new Error("SessionValidator: checkInterval is required");const[s,l]=c.useState(null),[i,u]=c.useState(!1),f=c.useRef(null),p=c.useRef(!1),m=e||o&&Lr();c.useEffect(()=>{if(!m)return;const _=K();_?l(_):p.current||(p.current=!0,n?.())},[m,n]);const b=c.useCallback(()=>{if(!m)return;console.log("[SessionValidator] Validando sesión...",new Date().toLocaleTimeString()),u(!0);const _=K();if(!_){p.current||(p.current=!0,n?.()),u(!1);return}if(se(_,t)){p.current||(p.current=!0,n?.()),u(!1);return}l(_),u(!1)},[m,t,n]);return c.useEffect(()=>{if(!m){f.current&&(clearInterval(f.current),f.current=null),p.current=!1;return}return b(),f.current=setInterval(()=>{b()},r),()=>{f.current&&(clearInterval(f.current),f.current=null)}},[m,r,b]),{isActive:m,sessionData:s,isValidating:i}}const Tr=({children:e,enabled:t=!1,sessionDuration:r,checkInterval:o,autoActivateIfSession:n=!0,onSessionInvalid:s})=>(Nr({enabled:t,sessionDuration:r,checkInterval:o,autoActivateIfSession:n,onSessionInvalid:s}),N.jsx(N.Fragment,{children:e})),Pe=c.createContext(null);function Gr(){return`session-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function Mr(){return c.useContext(X)?.config||null}function Or({children:e,sessionDuration:t,validationInterval:r,onLogging:o,onSessionInvalid:n}){const s=Mr(),l=t??s?.SESSION_CONFIG?.SESSION_DURATION??z.SESSION_CONFIG.SESSION_DURATION,i=r??s?.SESSION_CONFIG?.VALIDATION_INTERVAL??z.SESSION_CONFIG.VALIDATION_INTERVAL,[u,f]=c.useState(!1),p=c.useRef(!1),m=c.useRef(!1),b=c.useRef(null),_=c.useRef(o),I=c.useRef(n);c.useEffect(()=>{_.current=o},[o]),c.useEffect(()=>{I.current=n},[n]);const A=c.useCallback((C=!1)=>{const L=Gr();Er({sessionId:L,sessionStartTime:Date.now(),lastActivityTime:Date.now()}),f(!0),p.current=!1,_.current?.(),!C&&!m.current&&b.current&&b.current.postMessage({type:"session_login",sessionId:L,timestamp:Date.now()})},[]),x=c.useCallback((C=!1)=>{p.current||(p.current=!0,Ir(),f(!1),I.current?.(),!C&&!m.current&&b.current&&b.current.postMessage({type:"session_logout",timestamp:Date.now()}))},[]);c.useEffect(()=>{b.current=new BroadcastChannel("app_auth_channel");const C=L=>{const{type:T}=L.data;if(console.log("recibiendo eventos"),T==="session_login"){m.current=!0;const O=K();O&&!se(O,l)&&(A(!0),p.current=!1),m.current=!1}else T==="session_logout"&&(m.current=!0,x(!0),m.current=!1)};return b.current.onmessage=C,()=>{b.current&&(b.current.close(),b.current=null)}},[]),c.useEffect(()=>{const C=K();C&&!se(C,l)?(console.log("useEffect-getSessionFromStorage"),A(!0)):C&&x(!0)},[]);const S={isAuthenticated:u,login:A,logout:x};return N.jsx(Pe.Provider,{value:S,children:N.jsx(Tr,{enabled:u,sessionDuration:l,checkInterval:i,onSessionInvalid:x,children:e})})}function Pr(){const e=c.useContext(Pe);if(!e)throw new Error("useAppAuth must be used within AppAuthProvider");return e}function Rr(){return null}exports.AppAuthProvider=Or;exports.AppLanguageLibUiProvider=Oe;exports.AppLanguageProvider=Ar;exports.ConfigProvider=kr;exports.LibI18nProvider=Oe;exports.TagSelector=Sr;exports.ThemeProvider=Re;exports.cn=Mt;exports.config=Ut;exports.detectDevice=ve;exports.detectOrientation=he;exports.detectParentLanguageProvider=Rr;exports.detectWidth=oe;exports.formatDate=sr;exports.getConfig=Bt;exports.getConfigValue=Vt;exports.interpolate=me;exports.isVisibleByConfig=xe;exports.makeTranslator=ie;exports.resetGlobalConfig=Dt;exports.tokens=le;exports.updateGlobalConfig=jt;exports.useAppAuth=Pr;exports.useAppLanguage=Ie;exports.useConfig=ke;exports.useConfigValue=$t;exports.useDateFormatter=Ge;exports.useFormattedDate=nr;exports.useLibI18n=te;exports.useParentLanguageInjection=Jt;exports.useTheme=be;
//# sourceMappingURL=gc-ui-components.cjs.js.map
